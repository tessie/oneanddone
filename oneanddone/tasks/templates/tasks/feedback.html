{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. #}

{% extends 'base/base.html' %}

{% set title = attempt.task.name %}

{% block content %}
<main class="billboard content-container feedback">
  <h1>{{ attempt.task.name }}</h1>
  <h4>{{ _('Thank you!') }}</h4>
  <p>
    {% trans %}
      Thank you for contributing to Mozilla QA!
      Your time and effort are highly appreciated. We'd love to hear from you.
      Tell us about your experience here.
    {% endtrans %}
  </p>
  <p>
    {% trans %}
      We'd love to know what we're doing right, what to keep doing,
      and what to start doing.
    {% endtrans %}
  </p>
  <p>
    {% trans %}
      Your feedback will be shared with task administrators.
      We may email you for more information or to say thanks.
      You may update your email preferences inside your profile at any time.
    {% endtrans %}
  </p>

  <form method="post" class="feedback-form">
    {{ csrf() }}
    <p>
      {{ form.text }}
      {{ form.text.errors }}
    </p>
    <p>
      {{ form.time_spent_in_minutes.label }}
      {{ form.time_spent_in_minutes}}
      {{ form.time_spent_in_minutes.errors }}   
    </p>
    <p>
      {{ form.rating.label }}
      <div id="sentiment">
        <div id="happy-button" class="sentiment-button" tabindex="0">
          <svg class="face happy-face" viewBox="0 0 100 100">
            <g>
              <!-- 100 by 100 -->
              <circle cx="50" cy="50" r="43" stroke-width="7" fill="none"></circle>
              <circle cx="33" cy="37" r="7" stroke-width="0"></circle>
              <circle cx="67" cy="37" r="7" stroke-width="0"></circle>
              <path d="M22 58 C 35 85, 65 85, 78 58" stroke-width="6" fill="none"></path>
            </g>
          </svg>
          <div class="face-description">
            <input type="radio" name="rating" value="1">                
          </div>
        </div>
        <div id="sad-button" class="sentiment-button" tabindex="0">
          <svg class="face sad-face" viewBox="0 0 100 100">
            <g>
              <circle cx="50" cy="50" r="43" stroke-width="7" fill="none"></circle>
              <circle cx="33" cy="37" r="7" stroke-width="0"></circle>
              <circle cx="67" cy="37" r="7" stroke-width="0"></circle>
              <path d="M24 72 C 35 55, 65 55, 76 72" stroke-width="6" fill="none"></path>
            </g>
          </svg>
          <div class="face-description">
            <input type="radio" name="rating" value="-1">
          </div>
        </div>  
    </p>
    <div class="right">
      <a href="{{ url('tasks.whats_next', attempt.task.id) }}" class="no-feedback">{{ _('No, thanks.') }}</a>
      <button type="submit" class="button">{{ _('Submit feedback') }}</button>
    </div>
  </form>
</main>
{% endblock %}
